# ç¬¬ 383 åœºå‘¨èµ› (2024-02-04)

> https://leetcode.cn/contest/weekly-contest-383/

## [è¾¹ç•Œä¸Šçš„èš‚èš](https://leetcode.cn/problems/ant-on-the-boundary/)
**æ€è·¯**

å‰ç¼€å’Œç­‰äº 0 çš„ä¸ªæ•°ï¼Œå°±æ˜¯ç»“æœã€‚


**ä»£ç **

```java
class Solution {
    public int returnToBoundaryCount(int[] nums) {
        int ans = 0;
        int cur = 0;
        for (int n : nums) {
            cur += n;
            if (cur == 0) {
                ans++;
            }
        }
        return ans;
    }
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚


--------------------

## [å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ I](https://leetcode.cn/problems/minimum-time-to-revert-word-to-initial-state-i/)

## [å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ II](https://leetcode.cn/problems/minimum-time-to-revert-word-to-initial-state-ii/)

**æ€è·¯**

åªéœ€è¦åˆ¤æ–­ç¬¬ i æ¬¡æ“ä½œçš„æ—¶å€™ï¼Œword.subString(0, n - i\*k) å’Œ word.subString(i\*k, n) æ˜¯å¦ç›¸ç­‰å³å¯ã€‚è€Œ i çš„æœ€å¤§å€¼ä¸º $\left \lceil \frac{n}{k}  \right \rceil $â€‹

> ä¸€å¼€å§‹ç›´æ¥ç”¨ subString å–å­å­—ç¬¦ä¸²ç„¶ååˆ¤æ–­ç›¸ç­‰ï¼Œç¬¬äºŒé“é¢˜ä¼šè¶…æ—¶ï¼Œç„¶åæ”¹æˆäº†ä¸‹é¢çš„ä»£ç è¿‡äº†ã€‚ï¼ˆpythonç›´æ¥åˆ‡ç‰‡å’Œ js ç”¨ subString ä¹Ÿèƒ½è¿‡ï¼‰ã€‚ğŸ¤£
>
> java ç”¨ word.startsWith(word.subString(i*k)) ä¹Ÿèƒ½è¿‡ ğŸ¥²

**ä»£ç **

```java
class Solution {
    public int minimumTimeToInitialState(String word, int k) {
        int n = word.length();
        char[] chars = word.toCharArray();
        int i = 1;
        for (; i * k < n; i++) {
            int p = n - i * k - 1, q = n - 1;
            boolean flag = true;
            for (; p >= 0; p--, q--) {
                if (chars[p] != chars[q]) {
                    flag = false;
                    break;
                }
            }

            if (flag) {
                return i;
            }
        }
        return i;
    }
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(\frac{n^2}{k})$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$â€‹ã€‚å¿½ç•¥å­—ç¬¦ä¸²è½¬æˆå­—ç¬¦æ•°ç»„éœ€è¦çš„ç©ºé—´



ç”¨å­—ç¬¦ä¸²å“ˆå¸Œæˆ–è€…æ‰©å±• KMP èƒ½å¤Ÿè¿›ä¸€æ­¥ä¼˜åŒ–æˆçº¿æ€§æ—¶é—´å¤æ‚åº¦

å­—ç¬¦ä¸²å“ˆå¸Œå‚è€ƒï¼šhttps://leetcode.cn/circle/discuss/WmtlPM/view/6PXrLs/

æ‰©å±• KMP å‚è€ƒï¼šhttps://leetcode.cn/problems/minimum-time-to-revert-word-to-initial-state-ii/solutions/2630932/z-han-shu-kuo-zhan-kmp-by-endlesscheng-w44j




--------------------

## [æ‰¾å‡ºç½‘æ ¼çš„åŒºåŸŸå¹³å‡å¼ºåº¦](https://leetcode.cn/problems/find-the-grid-of-region-average/)
**æ€è·¯**

> è¿™é¢˜æˆ‘æƒ³åğŸ¥¶

æŒ‰ç…§é¢˜ç›®çš„æ„æ€æ¨¡æ‹Ÿ


**ä»£ç **

```java
class Solution {
    public int[][] resultGrid(int[][] image, int threshold) {
        int m = image.length, n = image[0].length;
        int[][] result = new int[m][n];
        int[][] base = new int[m][n];

        for (int i = 0; i < m - 2; i++) {
            for (int j = 0; j < n - 2; j++) {
                if (isArea(i, j, image, threshold)) {
                    fillResult(i, j, image, result, base);
                }
            }
        }

        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (base[i][j] == 0) {
                    result[i][j] = image[i][j];
                } else {
                    result[i][j] = result[i][j] / base[i][j];
                }
            }
        }

        return result;
    }

    private void fillResult(int i, int j, int[][] image, int[][] result, int[][] base) {
        int sum = 0;
        for (int k = i; k < i + 3; k++) {
            for (int l = j; l < j + 3; l++) {
                sum += image[k][l];
            }
        }

        int avg = sum / 9;
        for (int k = i; k < i + 3; k++) {
            for (int l = j; l < j + 3; l++) {
                result[k][l] += avg;
                base[k][l]++;
            }
        }
    }

    private boolean isArea(int i, int j, int[][] image, int threshold) {
        for (int k = i; k < i + 3; k++) {
            for (int l = j; l < j + 2; l++) {
                if (Math.abs(image[k][l] - image[k][l + 1]) > threshold) {
                    return false;
                }
            }
        }
        for (int k = i; k < i + 2; k++) {
            for (int l = j; l < j + 3; l++) {
                if (Math.abs(image[k][l] - image[k + 1][l]) > threshold) {
                    return false;
                }
            }
        }

        return true;
    }
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(mn)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(mn)$ã€‚

